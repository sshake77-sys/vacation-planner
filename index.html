<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vacation Planner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      background-color: #f5f8fa;
    }
    #chatbox {
      border: 1px solid #ccc;
      padding: 15px;
      background: white;
      border-radius: 10px;
      min-height: 300px;
    }
    .bot, .user {
      margin: 10px 0;
    }
    .bot {
      color: #333;
    }
    .user {
      text-align: right;
      color: #0077cc;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #aaa;
    }
  </style>
</head>
<body>
  <h2>🌴 Vacation Planner Assistant</h2>
  <div id="chatbox">
    <div class="bot">Hi! I’m your Vacation Planner. Let’s plan your next trip. Ready?</div>
  </div>
  <input type="text" id="userInput" placeholder="Type your response and press Enter..." />

  <script>
    const chatbox = document.getElementById('chatbox');
    const userInput = document.getElementById('userInput');

    const questions = [
      "Where would you like to go (or type 'suggest' for ideas)?",
      "When are you planning to travel?",
      "How many people are traveling?",
      "What’s your budget per person (USD)?",
      "What kind of vacation do you prefer? (Adventure, Relaxing, Romantic, Family, Cultural)",
      "Do you have a passport? (yes/no)"
    ];

    const answers = [];
    let step = 0;

    userInput.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        const userResponse = userInput.value.trim();
        if (!userResponse) return;

        // Show user message
        const userDiv = document.createElement('div');
        userDiv.className = 'user';
        userDiv.textContent = userResponse;
        chatbox.appendChild(userDiv);

        answers.push(userResponse);
        userInput.value = '';
        step++;

        if (step < questions.length) {
          showBotMessage(questions[step]);
        } else {
          // Show vacation suggestions
          showSummary();
        }
      }
    });

    function showBotMessage(message) {
      const botDiv = document.createElement('div');
      botDiv.className = 'bot';
      botDiv.textContent = message;
      chatbox.appendChild(botDiv);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function showSummary() {
      const botDiv = document.createElement('div');
      botDiv.className = 'bot';
      const [place, date, people, budget, type, passport] = answers;

      let suggestions = '';
      if (place.toLowerCase() === 'suggest') {
        suggestions = "🗺️ Suggested destinations: Bali (Indonesia), Cancun (Mexico), Lisbon (Portugal)";
      } else {
        suggestions = `🌟 Here's a custom vacation plan for ${place}:\n- Travel Date: ${date}\n- Travelers: ${people}\n- Budget: $${budget} per person\n- Type: ${type}`;
      }

      botDiv.innerHTML = suggestions.replace(/\n/g, '<br>');
      chatbox.appendChild(botDiv);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    // Start with first question
    showBotMessage(questions[0]);
  </script>
</body>
</html>

<script>
  const chat = document.getElementById("chat");
  const input = document.getElementById("user-input");
  const sendBtn = document.getElementById("send-btn");

  let step = 0;
  const userData = {};

  function botResponse(text) {
    const message = document.createElement("div");
    message.className = "message bot";
    message.innerText = text;
    chat.appendChild(message);
    chat.scrollTop = chat.scrollHeight;
  }

  function userResponse(text) {
    const message = document.createElement("div");
    message.className = "message user";
    message.innerText = text;
    chat.appendChild(message);
    chat.scrollTop = chat.scrollHeight;
  }

  function handleUserInput() {
    const inputText = input.value.trim();
    if (!inputText) return;

    userResponse(inputText);
    input.value = "";

    switch (step) {
      case 0:
        userData.type = inputText.toLowerCase();
        botResponse("Great! What's your approximate budget for this trip (e.g., $1000, $3000)?");
        step++;
        break;
      case 1:
        userData.budget = inputText;
        botResponse("Awesome. When are you planning to travel? (e.g., August, December)");
        step++;
        break;
      case 2:
        userData.month = inputText;
        suggestTrip();
        step++;
        break;
      default:
        botResponse("Would you like to plan another trip? Refresh the page to restart.");
    }
  }

  function suggestTrip() {
    const { type, budget, month } = userData;
    let suggestion = "Here's a suggestion for you: ";

    if (type.includes("beach")) {
      suggestion += `Consider visiting Bali or Maldives in ${month}. `;
    } else if (type.includes("adventure")) {
      suggestion += `How about hiking in Patagonia or a safari in Kenya this ${month}? `;
    } else if (type.includes("relax")) {
      suggestion += `Try a wellness retreat in Sedona or Tuscany this ${month}. `;
    } else if (type.includes("cultural")) {
      suggestion += `Explore Kyoto, Japan or Rome, Italy in ${month}. `;
    } else {
      suggestion += `Try exploring destinations on TripAdvisor based on your preferences. `;
    }

    suggestion += `We'll try to stay within a budget of ${budget}.`;

    botResponse(suggestion);
  }

  sendBtn.addEventListener("click", handleUserInput);
  input.addEventListener("keydown", function (e) {
    if (e.key === "Enter") handleUserInput();
  });

  // Kick off the bot
  botResponse("Hi! I'm your vacation planning assistant. What type of vacation are you planning? (e.g., Beach, Adventure, Relaxing, Cultural)");
</script>
